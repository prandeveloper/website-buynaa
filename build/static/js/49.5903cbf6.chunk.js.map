{"version":3,"sources":["wrappers/breadcrumb/Breadcrumb.js","pages/other/Cart.js"],"names":["Breadcrumb","className","separator","item","NavLink","finalItem","connect","state","cartItems","cartData","currency","currencyData","dispatch","addToCart","addToast","quantityCount","decreaseQuantity","deleteFromCart","deleteAllFromCart","props","location","useState","history","useToasts","useHistory","pathname","cartTotalPrice","gstTotalPrice","offer_code","setOffer_code","couAmount","setCouAmount","totalCouAmt","setTotalCouAmt","setCode","carts","setCarts","cartId","setCartId","total","useraddress","setUseraddress","fetchcarts","a","Axios","get","headers","localStorage","getItem","data","console","log","i","length","push","_id","fetchaddress","address","removeItemfromcart","id","response","deleteAllCartItems","window","reload","key","Razorpay","useRazorpay","setOrderId","user","setUser","useEffect","then","catch","error","order","handlePayment","useCallback","amount","description","name","email","contact","payment_type","cart","status","shipping_address","rzpay","handler","res","razorpay_payment_id","post","prefill","notes","theme","color","on","resp","alert","open","content","to","process","headerTop","map","cartItem","parseInt","gsttotal","discountedPrice","getDiscountPrice","price","discount","currencyRate","toFixed","product","gstrate","value","product_qty","src","product_img","alt","product_name","size","product_price","type","placeholder","onChange","e","oc1","target","onClick","code1","couAmt","discount_amount","sum","style","textTransform","customer","firstname","lastname","locality","pincode","mobile"],"mappings":"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","file":"static/js/49.5903cbf6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Breadcrumbs } from \"react-breadcrumbs-dynamic\";\r\n\r\nconst Breadcrumb = () => {\r\n  return (\r\n    <div className=\"breadcrumb-area pt-10 pb-10 bg-gray-5\">\r\n      <div className=\"container\">\r\n        <div className=\"breadcrumb-content text-center\">\r\n          <Breadcrumbs\r\n            separator={<span>/</span>}\r\n            item={NavLink}\r\n            finalItem={\"span\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Breadcrumb;\r\n","import PropTypes from \"prop-types\";\r\nimport React, { Fragment, useState, useEffect, useCallback } from \"react\";\r\nimport useRazorpay from \"react-razorpay\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport { connect } from \"react-redux\";\r\nimport { Form, Input, Button } from \"reactstrap\";\r\nimport { getDiscountPrice } from \"../../helpers/product\";\r\nimport {\r\n  addToCart,\r\n  decreaseQuantity,\r\n  deleteFromCart,\r\n  cartItemStock,\r\n  deleteAllFromCart,\r\n} from \"../../redux/actions/cartActions\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport Axios from \"axios\";\r\nimport { CloudLightning } from \"react-feather\";\r\n\r\nconst Cart = ({\r\n  props,\r\n  location,\r\n  cartItems,\r\n  currency,\r\n  decreaseQuantity,\r\n  addToCart,\r\n  deleteFromCart,\r\n  deleteAllFromCart,\r\n}) => {\r\n  const [quantityCount] = useState(1);\r\n  const { addToast } = useToasts();\r\n  const history = useHistory();\r\n  const { pathname } = location;\r\n  let cartTotalPrice = 0;\r\n  let gstTotalPrice = 0;\r\n  const [offer_code, setOffer_code] = useState([]);\r\n  const [couAmount, setCouAmount] = useState([]);\r\n  const [totalCouAmt, setTotalCouAmt] = useState(0);\r\n  const [code, setCode] = useState({});\r\n  const [carts, setCarts] = useState([]);\r\n  const [cartId, setCartId] = useState([]);\r\n  const [total, setTotal] = useState([]);\r\n  const [useraddress, setUseraddress] = useState([]);\r\n  //const { id } = useParams();\r\n\r\n  // const submitcoupon = (e) => {\r\n  //   e.preventDefault();\r\n\r\n  //   Axios.get(\r\n  //     `http://35.154.86.59/api/admin/verifyvalidategetdiscount/${offer_code}`\r\n  //   )\r\n  //     .then((response) => {\r\n  //       const code = response.data;\r\n  //       setCode(code);\r\n  //       console.log(code);\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.log(error.response);\r\n  //     });\r\n  // };\r\n\r\n  const fetchcarts = async () => {\r\n    const { data } = await Axios.get(\r\n      `http://35.154.86.59/api/admin/cartbycustomer`,\r\n      {\r\n        headers: {\r\n          \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n        },\r\n      }\r\n    );\r\n    const carts = data.data;\r\n    console.log(carts);\r\n    var cartId = [];\r\n    for (var i = 0; i < carts.length; i++) {\r\n      cartId.push(carts[i]._id);\r\n    }\r\n\r\n    setCarts(carts);\r\n    console.log(carts);\r\n\r\n    setCartId(cartId);\r\n    console.log(cartId);\r\n\r\n    //setTotal(data.total);\r\n  };\r\n\r\n  const fetchaddress = async () => {\r\n    const { data } = await Axios.get(\r\n      `http://35.154.86.59/api/user/viewoneuseraddress`,\r\n      {\r\n        headers: {\r\n          \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n        },\r\n      }\r\n    );\r\n    const address = data.data;\r\n    console.log(address);\r\n    setUseraddress(address);\r\n  };\r\n  // useEffect(() => {\r\n  //   //fetchcarts();\r\n  //   if (localStorage.getItem(\"auth-token\")) {\r\n  //     fetchcarts();\r\n  //     fetchaddress();\r\n  //   }\r\n  // }, []);\r\n\r\n  const removeItemfromcart = async (id) => {\r\n    console.log(id);\r\n\r\n    try {\r\n      const response = await Axios.get(\r\n        `http://35.154.86.59/api/admin/remove_cart/${id}`,\r\n        {\r\n          headers: {\r\n            \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n          },\r\n        }\r\n      );\r\n      if (response) {\r\n        console.log(response);\r\n        fetchcarts();\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const deleteAllCartItems = async () => {\r\n    console.log(\"request remove all\");\r\n\r\n    try {\r\n      const response = await Axios.get(\r\n        `http://35.154.86.59/api/admin/clearCart`,\r\n        {\r\n          headers: {\r\n            \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n          },\r\n        }\r\n      );\r\n      if (response) {\r\n        window.location.reload();\r\n        console.log(response);\r\n        fetchcarts();\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const [key, setKey] = useState(\"rzp_live_dX052iXb0Is1yu\");\r\n  const Razorpay = useRazorpay();\r\n  const [orderId, setOrderId] = useState(\"\");\r\n  const [user, setUser] = useState(\"\");\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"auth-token\")) {\r\n      fetchcarts();\r\n      fetchaddress();\r\n    }\r\n    console.log(\"useEffect\");\r\n    Axios.get(\"http://35.154.86.59/api/user/getonecustomer\", {\r\n      headers: {\r\n        \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response.data.data);\r\n        setUser(response.data.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n      });\r\n    Axios.get(`http://35.154.86.59/api/admin/rapay/${cartTotalPrice}`)\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setOrderId(response.data?.order.id);\r\n        // setAmount(response.data?.order.amount);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n      });\r\n  }, []);\r\n  const handlePayment = useCallback(\r\n    async (amount, description, name, email, contact, payment_type) => {\r\n      if (payment_type == \"Online\") {\r\n        var data = {\r\n          cart: cartId,\r\n          payment_type,\r\n          status: \"Pending\",\r\n          shipping_address: useraddress._id,\r\n          // razorpay_payment_id: res.razorpay_payment_id,\r\n        };\r\n        console.log(data);\r\n        return;\r\n      }\r\n      const RazorpayOptions = {\r\n        key: key,\r\n        amount: amount,\r\n        currency: \"INR\",\r\n        name: \"YOUR ORDER\",\r\n        description: description,\r\n        //order_id: \"1234567890\",\r\n        handler: (res) => {\r\n          var data = {\r\n            cart: cartId,\r\n            payment_type,\r\n            status: \"Pending\",\r\n            shipping_address: useraddress._id,\r\n            razorpay_payment_id: res.razorpay_payment_id,\r\n          };\r\n          console.log(res);\r\n          Axios.post(\"http://35.154.86.59/api/admin/addordersample\", data, {\r\n            headers: {\r\n              \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n            },\r\n          })\r\n            .then((response) => {\r\n              console.log(response);\r\n\r\n              history.push(\"/cart\");\r\n            })\r\n            .catch((error) => {\r\n              console.log(error.response);\r\n            });\r\n          //api call\r\n        },\r\n        prefill: {\r\n          name: name,\r\n          email: email,\r\n          contact: contact,\r\n        },\r\n        notes: {\r\n          address: \"BuyNaa Corporate Office\",\r\n        },\r\n        theme: { color: \"#3399cc\" },\r\n      };\r\n\r\n      const rzpay = new Razorpay(RazorpayOptions);\r\n\r\n      rzpay.on(\"payment.failure\", function (resp) {\r\n        alert(\"Remains on same page\");\r\n      });\r\n      rzpay.open();\r\n    },\r\n    [Razorpay]\r\n  );\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>Flone | Cart</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Cart page of flone react minimalist eCommerce template.\"\r\n        />\r\n      </MetaTags>\r\n\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Cart\r\n      </BreadcrumbsItem>\r\n\r\n      <LayoutOne headerTop=\"visible\">\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n        <div className=\"cart-main-area pt-90 pb-100\">\r\n          <div className=\"container\">\r\n            {carts && carts.length >= 1 ? (\r\n              <Fragment>\r\n                <h3 className=\"cart-page-title\">Your cart items</h3>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"table-content table-responsive cart-table-content\">\r\n                      <table>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Image</th>\r\n                            <th>Product Name</th>\r\n                            <th>Unit Price</th>\r\n                            <th>Qty</th>\r\n                            <th>GST</th>\r\n                            <th>Coupon</th>\r\n                            <th>Subtotal(Incl Tax)</th>\r\n                            <th>action</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {carts?.map((cartItem, key) => {\r\n                            //console.log(key);\r\n                            cartTotalPrice += parseInt(cartItem.gsttotal);\r\n                            const discountedPrice = getDiscountPrice(\r\n                              cartItem.price,\r\n                              cartItem.discount\r\n                            );\r\n                            const finalProductPrice = (\r\n                              cartItem.price * currency.currencyRate\r\n                            ).toFixed(2);\r\n                            const finalDiscountedPrice = (\r\n                              discountedPrice * currency.currencyRate\r\n                            ).toFixed(2);\r\n\r\n                            discountedPrice != null\r\n                              ? (gstTotalPrice +=\r\n                                  cartItem.product?.gstrate?.value *\r\n                                  cartItem.product_qty)\r\n                              : (gstTotalPrice +=\r\n                                  cartItem.product?.gstrate?.value *\r\n                                  cartItem.product_qty);\r\n\r\n                            return (\r\n                              <tr key={key}>\r\n                                <td className=\"product-thumbnail\">\r\n                                  <Link\r\n                                    to={\r\n                                      process.env.PUBLIC_URL +\r\n                                      \"/product-sticky/\" +\r\n                                      cartItem.product?._id\r\n                                    }\r\n                                  >\r\n                                    <img\r\n                                      className=\"img-fluid\"\r\n                                      src={\r\n                                        process.env.PUBLIC_URL +\r\n                                        cartItem.product?.product_img[0]\r\n                                      }\r\n                                      alt=\"\"\r\n                                    />\r\n                                  </Link>\r\n                                </td>\r\n                                <td className=\"product-name\">\r\n                                  <Link\r\n                                    to={\r\n                                      process.env.PUBLIC_URL +\r\n                                      \"/product-sticky/\" +\r\n                                      cartItem.product?._id\r\n                                    }\r\n                                  >\r\n                                    {cartItem.product?.product_name}\r\n                                  </Link>\r\n                                  {cartItem.size || cartItem.color ? (\r\n                                    <div className=\"cart-item-variation\">\r\n                                      <span>Color: {cartItem?.color}</span>\r\n                                      <span>Size: {cartItem?.size}</span>\r\n                                    </div>\r\n                                  ) : (\r\n                                    \"\"\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"product-price-cart\">\r\n                                  <span className=\"amount\">\r\n                                    {cartItem?.product_price}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"product-quantity\">\r\n                                  <div className=\"cart-plus-minus\">\r\n                                    <span>{cartItem.product_qty}</span>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"product-quantity\">\r\n                                  <div className=\"cart-plus-minus\">\r\n                                    <span>\r\n                                      {cartItem.product?.gstrate?.value}\r\n                                    </span>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"product-quantity\">\r\n                                  <div className=\"cart-plus-minus\">\r\n                                    <Form>\r\n                                      <span>\r\n                                        <Input\r\n                                          type=\"text\"\r\n                                          value={offer_code[key]}\r\n                                          placeholder=\"Enter Code\"\r\n                                          onChange={(e) => {\r\n                                            var oc1 = offer_code;\r\n                                            oc1[key] = e.target.value;\r\n                                            setOffer_code(oc1);\r\n                                          }}\r\n                                        />\r\n                                        <Button\r\n                                          color=\"primary\"\r\n                                          className=\"\"\r\n                                          onClick={() => {\r\n                                            Axios.post(\r\n                                              `http://35.154.86.59/api/admin/verifyvalidategetdiscount/${offer_code[key]}`,\r\n                                              {\r\n                                                offer_code: offer_code[key],\r\n                                              }\r\n                                            )\r\n                                              .then((response) => {\r\n                                                const code1 = response.data;\r\n\r\n                                                var couAmt = couAmount;\r\n                                                couAmt[key] =\r\n                                                  code1.discount_amount;\r\n                                                setCouAmount(couAmt);\r\n                                                var sum = 0;\r\n                                                for (\r\n                                                  var i = 0;\r\n                                                  i < couAmt.length;\r\n                                                  i++\r\n                                                )\r\n                                                  if (couAmt[i])\r\n                                                    sum = sum + couAmt[i];\r\n                                                setTotalCouAmt(sum);\r\n                                                setCode(code1);\r\n\r\n                                                console.log(code1);\r\n                                              })\r\n                                              .catch(function (error) {\r\n                                                console.log(error);\r\n                                              });\r\n                                          }}\r\n                                        >\r\n                                          Apply\r\n                                        </Button>\r\n                                      </span>\r\n                                    </Form>\r\n                                  </div>\r\n                                </td>\r\n\r\n                                <td className=\"product-subtotal\">\r\n                                  {cartItem?.gsttotal - couAmount[key]}\r\n                                </td>\r\n\r\n                                <td className=\"product-remove\">\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      removeItemfromcart(cartItem.product?._id)(\r\n                                        window.location.reload()\r\n                                      )\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fa fa-times\"></i>\r\n                                  </button>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <div className=\"cart-shiping-update-wrapper\">\r\n                      <div className=\"cart-shiping-update\">\r\n                        <Link\r\n                          to={process.env.PUBLIC_URL + \"/shop-grid-two-column\"}\r\n                        >\r\n                          Continue Shopping\r\n                        </Link>\r\n                      </div>\r\n                      <div className=\"cart-clear\">\r\n                        <button\r\n                          onClick={() =>\r\n                            deleteAllCartItems()(window.location.reload())\r\n                          }\r\n                        >\r\n                          Clear Shopping Cart\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-8 col-md-6\">\r\n                    <div className=\"cart-tax\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gray\">\r\n                          Shipping Address\r\n                        </h4>\r\n                      </div>\r\n                      <div className=\"tax-wrapper\">\r\n                        {/* <h5>\r\n                          {useraddress?.customer?.firstname} {useraddress?.customer?.lastname},{useraddress?.address},{useraddress?.locality},{useraddress?.state},{useraddress?.pincode},\r\n                        </h5> */}\r\n                        <div className=\"tax-select-wrapper\">\r\n                          <h4>\r\n                            <span style={{ textTransform: \"capitalize mb-2\" }}>\r\n                              {useraddress?.customer?.firstname}{\" \"}\r\n                              {useraddress?.customer?.lastname},\r\n                            </span>\r\n                            <br />\r\n                            {useraddress?.address},{useraddress?.locality},\r\n                            {useraddress?.state},{useraddress?.pincode}\r\n                          </h4>\r\n                          <button\r\n                            className=\"cart-btn-2\"\r\n                            type=\"button\"\r\n                            onClick={() => history.push(\"/my-account\")}\r\n                          >\r\n                            Change\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-lg-4 col-md-12\">\r\n                    <div className=\"grand-totall\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gary-cart\">\r\n                          Cart Total\r\n                        </h4>\r\n                      </div>\r\n                      <div>\r\n                        <h5>\r\n                          Total products <span>₹{total}</span>\r\n                        </h5>\r\n                        <h4 className=\"grand-totall-title\">\r\n                          Total GST<span>₹{gstTotalPrice}</span>\r\n                        </h4>\r\n                        <h4 className=\"grand-totall-title\">\r\n                          Total Discount<span>₹{totalCouAmt}</span>\r\n                        </h4>\r\n                        <h4 className=\"grand-totall-title\">\r\n                          Grand Total{\" \"}\r\n                          <span>₹{cartTotalPrice - totalCouAmt}</span>\r\n                        </h4>\r\n                      </div>\r\n                      <Link\r\n                        onClick={() =>\r\n                          handlePayment(\r\n                            parseInt(cartTotalPrice - totalCouAmt) * 100,\r\n                            \"checkout\",\r\n                            user.firstname + \" \" + user.lastname,\r\n                            user.email,\r\n                            user.mobile,\r\n                            \"Online\"\r\n                          )\r\n                        }\r\n                      >\r\n                        Proceed to Checkout\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Fragment>\r\n            ) : (\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <div className=\"item-empty-area text-center\">\r\n                    <div className=\"item-empty-area__icon mb-30\">\r\n                      <i className=\"pe-7s-cart\"></i>\r\n                    </div>\r\n                    <div className=\"item-empty-area__text\">\r\n                      No items found in cart <br />{\" \"}\r\n                      <Link to={\"/shop-grid-two-column\"}>Shop Now</Link>\r\n                      {/* <div> <a style=\" width: 200px; background-color: #1065b7; text-align: center; font-weight: 800; padding: 11px 0px; color: white; font-size: 12px; display: inline-block; text-decoration: none; \" href='https://pmny.in/AIRaJwzJjaAJ' > Pay Now </a> </div> */}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nCart.propTypes = {\r\n  addToCart: PropTypes.func,\r\n  cartItems: PropTypes.array,\r\n  currency: PropTypes.object,\r\n  decreaseQuantity: PropTypes.func,\r\n  location: PropTypes.object,\r\n  deleteAllFromCart: PropTypes.func,\r\n  deleteFromCart: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cartItems: state.cartData,\r\n    currency: state.currencyData,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addToCart: (item, addToast, quantityCount) => {\r\n      dispatch(addToCart(item, addToast, quantityCount));\r\n    },\r\n    decreaseQuantity: (item, addToast) => {\r\n      dispatch(decreaseQuantity(item, addToast));\r\n    },\r\n    deleteFromCart: (item, addToast) => {\r\n      dispatch(deleteFromCart(item, addToast));\r\n    },\r\n    deleteAllFromCart: (addToast) => {\r\n      dispatch(deleteAllFromCart(addToast));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n"],"sourceRoot":""}