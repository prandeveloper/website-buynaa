(this["webpackJsonpflone-react"]=this["webpackJsonpflone-react"]||[]).push([[51],{553:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(7),s=a(179);t.a=function(){return r.a.createElement("div",{className:"breadcrumb-area pt-10 pb-10 bg-gray-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"breadcrumb-content text-center"},r.a.createElement(s.Breadcrumbs,{separator:r.a.createElement("span",null,"/"),item:l.c,finalItem:"span"}))))}},794:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a(181),r=a(182),l=a(183),s=a(184),o=a(185),i=a(0),m=a.n(i),c=a(556),u=a.n(c),p=(a(179),a(584)),g=a(596),d=a(59),h=a.n(d),E=a(180),v=(a(553),a(747)),b=a.n(v),f=a(548),y=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(r.a)(this,a),(l=t.call(this,e)).otpHandler=function(e){e.preventDefault(),console.log(l.state),h.a.post("http://35.154.86.59/api/user/verifyotp",{mobile:l.state.mobile,otp:l.state.otpnumber}).then((function(e){console.log(e),localStorage.setItem("auth-token",l.state.token),l.props.history.push({pathname:"/cart"})})).catch((function(e){console.log(e.response)}))},l.handlechange=function(e){e.preventDefault(),l.setState(Object(n.a)({},e.target.name,e.target.value))},l.loginHandler=function(e){e.preventDefault(),h.a.post("http://35.154.86.59/api/user/login",{username:l.state.username,email:l.state.email,mobile:l.state.mobile,password:l.state.password}).then((function(e){console.log(e),localStorage.setItem("auth-token",e.data.token),l.props.history.push("/cart")})).catch((function(e){console.log(e),console.log(e.response),"success"!==e.response.data.msg&&"success"!=e.response.data.msg&&(b()("Wrong UserName or Password","Enter Correct Email / Number or Password","error"),l.props.history.push("/login-register"))}))},l.changeHandler=function(e){e.preventDefault(),l.setState(Object(n.a)({},e.target.name,e.target.value))},l.checkHandler=function(e){e.preventDefault(),""!=e.target.value.trim()?isNaN(e.target.value.trim())?!1===/^([A-Za-z0-9_\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e.target.value.trim())?(l.setState({username:e.target.value.trim(),mobile:"",email:""}),console.log("invalid Email")):(l.setState({username:e.target.value.trim(),mobile:"",email:e.target.value.trim()}),console.log("valid mail")):(l.setState({username:e.target.value.trim(),mobile:e.target.value.trim(),email:""}),console.log("Valid Phone")):l.setState({username:e.target.value.trim(),mobile:"",email:""})},l.submitHandler=function(e){e.preventDefault(),l.setState({otp:!1}),h.a.post("http://35.154.86.59/api/user/signup",l.state).then((function(e){console.log(e),l.setState({token:e.data.token}),"Already Exists"!==e.data.msg&&"Already Exists"!==e.data.msg&&void 0!==e.data.msg&&h.a.post("http://35.154.86.59/api/user/sendotp",{mobile:l.state.mobile}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}))})).catch((function(e){console.log(e.response),"Already Exists"==e.response.data.msg&&"Already Exists"===e.response.data.msg&&(l.props.history.push("/pages/login"),b()("Error!","Email / Number Already Exists","error"))}))},l.state={firstname:"",lastname:"",email:"",mobile:"",username:"",password:"",otp:!0,otpnumber:"",token:""},l}return Object(l.a)(a,[{key:"render",value:function(){return console.log(this.state.otp),m.a.createElement(i.Fragment,null,m.a.createElement(u.a,null,m.a.createElement("title",null,"Buynaa | Login"),m.a.createElement("meta",{name:"description",content:"Compare page of flone react minimalist eCommerce template."})),m.a.createElement(E.a,{headerTop:"visible"},m.a.createElement("div",{className:"login-register-area pt-100 pb-100"},m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row d-flex align-items-center justify-content-center"},m.a.createElement("div",{className:"col-lg-7 col-md-12 ml-auto mr-auto"},this.state.otp?m.a.createElement("div",{className:"login-register-wrapper"},m.a.createElement(p.a.Container,{defaultActiveKey:"login"},m.a.createElement(g.a,{variant:"pills",className:"login-register-tab-list"},m.a.createElement(g.a.Item,null,m.a.createElement(g.a.Link,{eventKey:"login"},m.a.createElement("h4",null,"Login"))),m.a.createElement(g.a.Item,null,m.a.createElement(g.a.Link,{eventKey:"register"},m.a.createElement("h4",null,"Register")))),m.a.createElement(p.a.Content,null,m.a.createElement(p.a.Pane,{eventKey:"login"},m.a.createElement("div",{className:"login-form-container"},m.a.createElement("div",{className:"login-register-form"},m.a.createElement("form",{onSubmit:this.loginHandler},m.a.createElement("input",{type:"text",name:"username",placeholder:"E-mail / Phone",value:this.state.username,onChange:this.checkHandler,required:!0}),m.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handlechange}),m.a.createElement("div",{className:"button-box"},m.a.createElement("div",{className:"login-toggle-btn"}),m.a.createElement("button",{type:"submit"},m.a.createElement("span",null,"Login"))))))),m.a.createElement(p.a.Pane,{eventKey:"register"},m.a.createElement("div",{className:"login-form-container"},m.a.createElement("div",{className:"login-register-form"},m.a.createElement("form",{className:"text-center",onSubmit:this.submitHandler,method:"post"},m.a.createElement("input",{type:"text",name:"firstname",placeholder:"Enter Your Firstname",value:this.state.firstname,onChange:this.changeHandler}),m.a.createElement("input",{type:"text",name:"lastname",placeholder:"Enter Your Lastname",value:this.state.lastname,onChange:this.changeHandler}),m.a.createElement("input",{type:"email",name:"email",placeholder:"Enter Your Email",value:this.state.email,onChange:this.changeHandler}),m.a.createElement("input",{type:"number",name:"mobile",placeholder:"Enter Your Mobile No.",value:this.state.mobile,onChange:this.changeHandler}),m.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.changeHandler}),m.a.createElement("div",{className:"button-box"},m.a.createElement("button",{type:"submit"},m.a.createElement("span",null,"Register")))))))))):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"login-form-container"},m.a.createElement("div",{className:"login-register-form"},m.a.createElement("form",{onSubmit:this.otpHandler},m.a.createElement("input",{type:"number",name:"otpnumber",placeholder:"OTP No",value:this.state.otpnumber,onChange:this.handlechange}),m.a.createElement("div",{className:"button-box"},m.a.createElement("div",{className:"login-toggle-btn"}),m.a.createElement(f.a,{type:"submit"},m.a.createElement("span",null,"Verify")))))))))))))}}]),a}(i.Component)}}]);
//# sourceMappingURL=51.2a98d3d7.chunk.js.map