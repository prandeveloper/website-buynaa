{"version":3,"sources":["pages/other/ForgotPassword.js"],"names":["ForgotPassword","props","otpHandler","e","preventDefault","console","log","state","axios","post","mobile","otp","otpnumber","then","response","data","token","localStorage","setItem","window","location","href","catch","error","handlechange","setState","target","name","value","changeHandler","submitHandler","this","content","headerTop","className","onSubmit","method","type","placeholder","onChange","Component"],"mappings":"yRAMqBA,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IASRC,WAAa,SAACC,GACZA,EAAEC,iBACFC,QAAQC,IAAI,EAAKC,OACjBC,IACGC,KAAK,yCAA0C,CAC9CC,OAAQ,EAAKH,MAAMG,OACnBC,IAAK,EAAKJ,MAAMK,YAEjBC,MAAK,SAACC,GACLT,QAAQC,IAAIQ,GACZT,QAAQC,IAAIQ,EAASC,KAAKC,OAC1BC,aAAaC,QAAQ,aAAcJ,EAASC,KAAKC,OACjDG,OAAOC,SAASC,KAAO,mBAExBC,OAAM,SAACC,GACNlB,QAAQC,IAAIiB,EAAMT,cAzBL,EA6BnBU,aAAe,SAACrB,GACdA,EAAEC,iBACF,EAAKqB,SAAL,eAAiBtB,EAAEuB,OAAOC,KAAOxB,EAAEuB,OAAOE,SA/BzB,EAmCnBC,cAAgB,SAAC1B,GACfA,EAAEC,iBACF,EAAKqB,SAAL,eAAiBtB,EAAEuB,OAAOC,KAAOxB,EAAEuB,OAAOE,SArCzB,EAwCnBE,cAAgB,SAAC3B,GACfA,EAAEC,iBACF,EAAKqB,SAAS,CAAEd,KAAK,IACrBH,IACGC,KAAK,uCAAwC,CAC5CC,OAAQ,EAAKH,MAAMG,SAGpBG,MAAK,SAACC,GACLT,QAAQC,IAAIQ,MAEbQ,OAAM,SAACC,GACNlB,QAAQC,IAAIiB,EAAMT,cAlDtB,EAAKP,MAAQ,CACXG,OAAQ,GACRC,KAAK,EACLC,UAAW,GACXI,MAAO,IANQ,E,0CAuDnB,WAEE,OADAX,QAAQC,IAAIyB,KAAKxB,MAAMI,KAErB,kBAAC,WAAD,KACE,kBAAC,IAAD,KACE,iDACA,0BACEgB,KAAK,cACLK,QAAQ,gEAGZ,kBAAC,IAAD,CAAWC,UAAU,WACnB,yBAAKC,UAAU,qCACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,wDACb,yBAAKA,UAAU,0CAEZH,KAAKxB,MAAMI,IACV,yBAAKuB,UAAU,0BACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,uBACb,0BACEA,UAAU,cACVC,SAAUJ,KAAKD,cACfM,OAAO,QAEP,2BACEC,KAAK,SACLV,KAAK,SACLW,YAAY,wBACZV,MAAOG,KAAKxB,MAAMG,OAClB6B,SAAUR,KAAKF,gBAGjB,yBAAKK,UAAU,cACb,4BAAQG,KAAK,UACX,8CAQZ,oCACE,yBAAKH,UAAU,wBACb,yBAAKA,UAAU,uBACb,0BAAMC,SAAUJ,KAAK7B,YACnB,2BACEmC,KAAK,SACLV,KAAK,YACLW,YAAY,SACZV,MAAOG,KAAKxB,MAAMK,UAClB2B,SAAUR,KAAKP,eAEjB,yBAAKU,UAAU,cACb,yBAAKA,UAAU,qBACf,kBAAC,IAAD,CAAQG,KAAK,UACX,wD,GAlHYG","file":"static/js/62.824ab7e6.chunk.js","sourcesContent":["// import PropTypes from \"prop-types\";\r\nimport React, { Fragment, Component } from \"react\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport axios from \"axios\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport { Button } from \"reactstrap\";\r\nexport default class ForgotPassword extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mobile: \"\",\r\n      otp: true,\r\n      otpnumber: \"\",\r\n      token: \"\",\r\n    };\r\n  }\r\n\r\n  otpHandler = (e) => {\r\n    e.preventDefault();\r\n    console.log(this.state);\r\n    axios\r\n      .post(\"http://35.154.86.59/api/user/verifyotp\", {\r\n        mobile: this.state.mobile,\r\n        otp: this.state.otpnumber,\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        console.log(response.data.token);\r\n        localStorage.setItem(\"auth-token\", response.data.token);\r\n        window.location.href = \"./newPassword\";\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n      });\r\n  };\r\n\r\n  handlechange = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // otp = true;\r\n  changeHandler = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  submitHandler = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ otp: false });\r\n    axios\r\n      .post(\"http://35.154.86.59/api/user/sendotp\", {\r\n        mobile: this.state.mobile,\r\n        //   email: this.state.email,\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n      });\r\n  };\r\n  render() {\r\n    console.log(this.state.otp);\r\n    return (\r\n      <Fragment>\r\n        <MetaTags>\r\n          <title>Buynaa | Login</title>\r\n          <meta\r\n            name=\"description\"\r\n            content=\"Compare page of flone react minimalist eCommerce template.\"\r\n          />\r\n        </MetaTags>\r\n        <LayoutOne headerTop=\"visible\">\r\n          <div className=\"login-register-area pt-100 pb-100\">\r\n            <div className=\"container\">\r\n              <div className=\"row d-flex align-items-center justify-content-center\">\r\n                <div className=\"col-lg-7 col-md-12 p-4 ml-auto mr-auto\">\r\n                  {/* style={{ background: \"#CFECEC\" }} */}\r\n                  {this.state.otp ? (\r\n                    <div className=\"login-register-wrapper\">\r\n                      <div className=\"login-form-container\">\r\n                        <div className=\"login-register-form\">\r\n                          <form\r\n                            className=\"text-center\"\r\n                            onSubmit={this.submitHandler}\r\n                            method=\"post\"\r\n                          >\r\n                            <input\r\n                              type=\"number\"\r\n                              name=\"mobile\"\r\n                              placeholder=\"Enter Your Mobile No.\"\r\n                              value={this.state.mobile}\r\n                              onChange={this.changeHandler}\r\n                            />\r\n\r\n                            <div className=\"button-box\">\r\n                              <button type=\"submit\">\r\n                                <span>Submit</span>\r\n                              </button>\r\n                            </div>\r\n                          </form>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <>\r\n                      <div className=\"login-form-container\">\r\n                        <div className=\"login-register-form\">\r\n                          <form onSubmit={this.otpHandler}>\r\n                            <input\r\n                              type=\"number\"\r\n                              name=\"otpnumber\"\r\n                              placeholder=\"OTP No\"\r\n                              value={this.state.otpnumber}\r\n                              onChange={this.handlechange}\r\n                            />\r\n                            <div className=\"button-box\">\r\n                              <div className=\"login-toggle-btn\"></div>\r\n                              <Button type=\"submit\">\r\n                                <span>Verify</span>\r\n                              </Button>\r\n                            </div>\r\n                          </form>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </LayoutOne>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}